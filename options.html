<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Better Gmail Sidebar — Options</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root { color-scheme: light dark; }
      /* Theming variables */
      :root {
        --c-text: #202124;
        --c-bg: #f8f9fa;
        --c-muted: #5f6368;
        --c-accent: #1a73e8;
        --c-accent-muted: rgba(26,115,232,0.4);
        --c-card-bg: #ffffff;
        --c-card-border: rgba(60,64,67,0.15);
        --c-shadow: 0 1px 2px rgba(60,64,67,0.15);
        --c-pill-text: #1967d2;
        --c-pill-bg: #e8f0fe;
        --c-pill-border: #d2e3fc;
        --c-ok-text: #137333;
        --c-ok-bg: #e6f4ea;
        --c-ok-border: #cce9d6;
        --c-btn-bg: #fff;
        --c-btn-border: rgba(60,64,67,0.28);
        --c-btn-hover: #f6f9fe;
        --c-row-border: rgba(60,64,67,0.1);
      }
      @media (prefers-color-scheme: dark) {
        :root {
          --c-text: #e8eaed;
          --c-bg: #202124;
          --c-muted: #9aa0a6;
          --c-card-bg: #2b2c2f;
          --c-card-border: rgba(255,255,255,0.12);
          --c-shadow: none;
          --c-pill-text: #8ab4f8;
          --c-pill-bg: #1e2a3a;
          --c-pill-border: #27496b;
          --c-ok-text: #81c995;
          --c-ok-bg: #1b3a2e;
          --c-ok-border: #2d5a43;
          --c-btn-bg: #303134;
          --c-btn-border: rgba(255,255,255,0.16);
          --c-btn-hover: #3c4043;
          --c-row-border: rgba(255,255,255,0.12);
        }
      }

      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, sans-serif;
        color: var(--c-text);
        background: var(--c-bg);
      }

      .page { max-width: 860px; margin: 0 auto; padding: 24px; }

      /* Header like Chrome settings */
      .header {
        display: flex; align-items: center; justify-content: space-between;
        padding: 16px 20px; border-radius: 12px;
        background: var(--c-card-bg); border: 1px solid var(--c-card-border);
        box-shadow: var(--c-shadow);
      }
      .title { display: flex; flex-direction: column; gap: 4px; }
      .title h1 { font-size: 1.35rem; line-height: 1.3; margin: 0; }
      .subtitle { color: var(--c-muted); font-size: 0.95rem; }
      .pill { font-size: 0.85rem; color: var(--c-pill-text); background: var(--c-pill-bg); border: 1px solid var(--c-pill-border); padding: 2px 8px; border-radius: 999px; }
      .pill-ok { color: var(--c-ok-text); background: var(--c-ok-bg); border-color: var(--c-ok-border); }
      .pill-status { opacity: 0; transition: opacity .15s ease; pointer-events: none; }
      .pill-status.is-visible { opacity: 1; }

      .header-actions { display: flex; gap: 8px; align-items: center; }
      .btn {
        appearance: none; border: 1px solid var(--c-btn-border); background: var(--c-btn-bg); color: var(--c-text);
        padding: 6px 12px; border-radius: 8px; font-size: 0.9rem; cursor: pointer;
      }
      .btn:hover { background: var(--c-btn-hover); border-color: var(--c-accent-muted); }

      .section { margin-top: 20px; }
      .card { background: var(--c-card-bg); border:1px solid var(--c-card-border); border-radius:12px; padding: 8px 0; }
      .card-header { display:flex; align-items:center; justify-content: space-between; padding: 12px 16px; min-height: 44px; }
      .card h2 { font-size: 1rem; font-weight: 600; margin: 0; color: var(--c-text); }

      /* List rows */
      ul { list-style: none; padding: 0; margin: 0; }
      li {
        display: grid; grid-template-columns: 28px 1fr auto; align-items: center;
        gap: 12px; padding: 12px 16px; border-top: 1px solid var(--c-row-border);
      }
      li:first-child { border-top: none; }
      li[draggable="true"] .handle { cursor: grab; user-select: none; color: var(--c-muted); }
      li.drag-over { outline: 2px dashed #8ab4f8; outline-offset: -6px; }
      .name { font-size: 0.98rem; }

      /* Toggle switch */
      .switch { position: relative; width: 36px; height: 20px; display: inline-block; }
      .switch input { opacity: 0; width: 0; height: 0; }
      .track { position: absolute; inset: 0; background: #dadce0; border-radius: 999px; transition: background .18s ease; }
      .track::after { content: ""; position: absolute; top: 2px; left: 2px; width: 16px; height: 16px; background: #fff; border-radius: 50%; transition: transform .18s ease; box-shadow: 0 1px 2px rgba(0,0,0,0.3); }
      input:checked + .track { background: var(--c-accent); }
      input:checked + .track::after { transform: translateX(16px); }
      @media (prefers-color-scheme: dark) {
        .track { background: #5f6368; }
        .track::after { background: #e8eaed; box-shadow: none; }
      }

      .hint { color: var(--c-muted); font-size: 0.9rem; padding: 8px 16px 12px; }

      /* No bottom status row; feedback appears in header pill */
    </style>
  </head>
  <body>
    <div class="page">
      <header class="header" role="banner">
        <div class="title">
          <h1>Better Gmail Sidebar</h1>
          <div class="subtitle" id="subtitle">Adds quick Unread and Star-color rows to Gmail.</div>
        </div>
        <div class="header-actions">
          <span class="pill" id="version-pill">v0.0.0</span>
          <button id="reset" type="button" class="btn" title="Reset to defaults">Reset</button>
        </div>
      </header>

      <section class="section card">
        <div class="card-header">
          <h2>Sidebar Items</h2>
          <span class="pill pill-ok pill-status" id="save-pill" role="status" aria-live="polite"></span>
        </div>
        <div class="hint">Toggle items on or off and drag to reorder.</div>
        <ul id="rows-list">
          <li data-key="unread" draggable="true">
            <span class="handle" aria-hidden="true">⋮⋮</span>
            <span class="name">Unread</span>
            <label class="switch" aria-label="Enable Unread">
              <input type="checkbox" id="cb-unread" />
              <span class="track"></span>
            </label>
          </li>
          <li data-key="yellow" draggable="true">
            <span class="handle" aria-hidden="true">⋮⋮</span>
            <span class="name">Yellow Star</span>
            <label class="switch" aria-label="Enable Yellow Star">
              <input type="checkbox" id="cb-yellow" />
              <span class="track"></span>
            </label>
          </li>
          <li data-key="red" draggable="true">
            <span class="handle" aria-hidden="true">⋮⋮</span>
            <span class="name">Red Star</span>
            <label class="switch" aria-label="Enable Red Star">
              <input type="checkbox" id="cb-red" />
              <span class="track"></span>
            </label>
          </li>
          <li data-key="green" draggable="true">
            <span class="handle" aria-hidden="true">⋮⋮</span>
            <span class="name">Green Star</span>
            <label class="switch" aria-label="Enable Green Star">
              <input type="checkbox" id="cb-green" />
              <span class="track"></span>
            </label>
          </li>
          <li data-key="blue" draggable="true">
            <span class="handle" aria-hidden="true">⋮⋮</span>
            <span class="name">Blue Star</span>
            <label class="switch" aria-label="Enable Blue Star">
              <input type="checkbox" id="cb-blue" />
              <span class="track"></span>
            </label>
          </li>
          <li data-key="purple" draggable="true">
            <span class="handle" aria-hidden="true">⋮⋮</span>
            <span class="name">Purple Star</span>
            <label class="switch" aria-label="Enable Purple Star">
              <input type="checkbox" id="cb-purple" />
              <span class="track"></span>
            </label>
          </li>
        </ul>
      </section>
    </div>

    <script src="options.js"></script>
  </body>
  </html>
